<!DOCTYPE html>
<html>
<head>
    <title>Tour Planner</title>
    <link rel="stylesheet" type="text/css" href="q7.css">
    <style>
        .navbar{
            overflow: hidden;
            /* background-color: rgb(231, 181, 120); */
            background-color: darkorange;
        }
        
        .navbar a {
            float: right;
            font-size: 16px;
            color: rgb(22, 22, 22);
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-weight: bold;
        }
        .navbar a:hover, .dropdown hover .btn{
            box-sizing: border-box;
        }
        body{
            margin-left: 5px;
            font-family: Arial, Helvetica, sans-serif;
            background-color: rgb(0, 0, 0);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }
        .column img{
            margin: 5px;
    
        }
        
     .row::after{
         content: "";
         display: table;
         clear: both;
     }
     .dropdown{
        font-size: 16px;
       float: right;
       overflow: hidden;
     }
     .dropdown .btn{
        font-size: 16px;
        border: none;
        outline: none;
        color: black;
        padding: 14px 16px;
        background-color: inherit;
        font-family: inherit;
        margin: 0;
        font-weight: bold;
     }
     .button{
         background-color: orange;
         border: none;
         color: white;
         padding: 15px 32px;
         text-align: center;
         text-decoration: none;
         display: inline-block;
         font-size: 16px;
     }
    
     .dropdown-content{
        display: none;
        position: absolute;
        background-color:rgb(231, 181, 120) ;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
     }
     .dropdown-content a{
        float: none;
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
     }
      .btn a:hover{
        background-color: rgb(231, 181, 120);
     }
     .dropdown:hover .dropdown-content{
        display: block;
     }

     table, tr, th{

border: 1px solid;


}
tr,td{
border: 1px solid;
text-align: center;

}
table {
margin: 0 auto;
width: 600px;
border: 1;
width: 100%;


}
a{

align-items: center;
color: blue;
font-size: larger;
}
    
    
    </style>
</head>

<body style="background-color: burlywood;">
    <div id="fir">
      
       <div class="navbar">
           <a href="logout.php">Logout</a>
           <a href="Places.html">Places</a>
           <!-- <a href="hotels.html">Hotels</a> -->
           <!-- <a href="whether.html">Weather</a> -->
           <a href="About.html">About</a>
           <a href="home.html" style="font-weight:14px;">Home</a>
           <div class = "dropdown">
               <button class="btn">Profile
                   <i class="fa fa-caret-down"></i>
               </button>
           
           <div class="dropdown-content">
               <!-- <a class ="links" href="userdetail.php">Profile Card</a> -->
               <a href="signup.html">Create</a>
               <a href="U.html">Update</a>
               <a href="Delete.html">Delete</a>
           </div>
           
           </div>  
           
       </div>
    <h2 style="padding-left:450px ; color: darkorange; font-weight: 2000;font-size: 50px;">Tour Plan</h2>
    <div style="border: 2px solid rgba(0, 0, 0, 0.5);padding-top: 20px;width: 450px;height: 380px;margin-left: 400px;margin-top: 20px;background-color:rgba(0, 0, 0, 0.5);border-radius: 15px;box-shadow: 0 0 10px sandybrown;">
        <form name="planForm" action="q7.php" method="POST" onsubmit="return checkBudgetAndConfirm()">
            <label for="budget" style="font-family: Arial, Helvetica, sans-serif;font-size: x-large;padding-top: 20px;color: white;margin-top: 50px;margin-left: 50px;">Budget:</label><br><br>
            <input type="text" name="budget" required id="budgetInput" style="background-color:aliceblue;color: black;width: 250px;height: 30px;border-radius: 10px;margin-left: 110px;"><br>
            <br>
            <label for="days" style="font-family: Arial, Helvetica, sans-serif;font-size: x-large;padding-top: 20px;color: white;margin-top: 50px;margin-left: 50px;">Number of Days:</label><br><br>
            <input type="text" name="days" required id="daysInput" style="background-color:aliceblue;color: black;width: 250px;height: 30px;border-radius: 10px;margin-left: 110px;"><br>
            <br>
            <label for="city" style="font-family: Arial, Helvetica, sans-serif;font-size: x-large;padding-top: 20px;color: white;margin-top: 50px;margin-left: 50px;">Select a City:</label><br><br>
            <select name="city" style="background-color:aliceblue;color: black;width: 250px;height: 30px;border-radius: 10px;margin-left: 110px;"><br>
                <option value="lahore">Lahore</option>
                <option value="karachi">Karachi</option>
                <option value="islamabad">Islamabad</option>
                <option value="Swat">Swat</option>
                <option value="Naran Gaghan">Naran Gaghan</option>
                <option value="Hunza Valley">Hunza Valley</option>
            </select>
            <br><br><br>

            <input type="button" value="Update" onclick="updatePlan()" style="background-color:green;color: black;width: 100px;height: 40px;border-radius: 10px;font-size: x-large;margin-top: 20px;">
            
            <input type="button" value="Delete" onclick="resetForm()" style="background-color:red;color: black;width: 100px;height: 40px;border-radius: 10px;font-size: x-large;margin-top: 20px;">
            <input type="submit" value="Next" style="background-color:darkorange;color: black;width: 100px;height: 40px;border-radius: 10px;margin-left: 110px;font-size: x-large;">
        </form>
    </div>
</div>

<script>
    // function checkBudget() {
    // ... (your existing checkBudget function) ...
    
    function checkBudget() {
        var budget = parseFloat(document.getElementById('budgetInput').value);
        var selectedCity = document.querySelector('select[name="city"]').value;
        var requiredBudget = 0;

        // Define the required budget based on the selected city and number of days (2 days).
        switch (selectedCity) {
            case "lahore":
                requiredBudget = 25000;
                break;
            case "karachi":
                requiredBudget = 40000;
                break;
            case "islamabad":
                requiredBudget = 50000;
                break;
            case "Swat":
                requiredBudget = 60000;
                break;
            case "Naran Gaghan":
                requiredBudget = 65000;
                break;
            case "Hunza Valley":
                requiredBudget = 75000;
                break;
            default:
                break;
        }

        // Check if the budget meets the requirements.
        if (budget < requiredBudget) {
            alert(`Budget must be greater than ${requiredBudget} PKR for ${selectedCity} for 2 days.`);
            return false; // Prevent form submission
        }

        return true; // Allow form submission
    }
    // }

    function checkBudgetAndConfirm() {
        // Check if the budget meets the requirements using your existing checkBudget function.
        if (!checkBudget()) {
            return false; // Prevent form submission
        }

        // Display a confirmation dialog to ask the user what they want to do next.
        // var userChoice = confirm("Budget is sufficient. What would you like to do next?\n\n" +
        //     "Press OK for 'Continue to Signup'\n" +
        //     "Press Cancel for 'Delete Plan'\n" +
        //     "Press Esc to stay on this page");

        if (userChoice === null) {
            // User pressed Esc (Stay on this page)
            return true; // Allow form submission
        } else if (userChoice === true) {
            // User pressed OK (Continue to Signup)
            window.location.href = "signup.html"; // Redirect to signup.html
            return false; // Prevent form submission
        } else {
            // User pressed Cancel (Delete Plan)
            resetForm();
            return false; // Prevent form submission
        }
    }

    function resetForm() {
        // Reset form fields
        document.getElementById("budgetInput").value = "";
        document.getElementById("daysInput").value = "";
        document.querySelector('select[name="city"]').value = "lahore"; // Set the default city
        // Clear any other form fields you want to reset
        alert("Form fields have been reset.");
    }

    function updatePlan() {
        // Ask for confirmation before updating
        var confirmUpdate = confirm("Are you sure you want to update the plan?");
        if (confirmUpdate) {
            // You can add your update logic here
            alert("Update functionality will be added here.");
        }
    }
</script>
</body>
</html>
